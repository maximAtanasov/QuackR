<app-header [userId]="userId" [username]="user.username"></app-header>

<form ngNativeValidate (ngSubmit)="submitForm()" class="form">
  <div *ngIf="success" class="alert alert-success" role="alert">
    Changes successfully saved!
  </div>
  <h2 style="margin-bottom: 30px">Edit your account</h2>

  <div class="form-group">
    <label for="inputUsername">Username</label>
    <input type="text" [(ngModel)]="user.username" autofocus class="form-control" name="inputUsername" id="inputUsername" placeholder="Enter username" required>
    <div style="color: red" *ngIf="invalidUser">A user with this username already exists!</div>
  </div>
  <div class="form-group">
    <label for="inputOldPassword">Old password</label>
    <input type="password" [(ngModel)]="oldPassword" class="form-control" name="inputOldPassword" id="inputOldPassword" placeholder="Old password" required>
    <div style="color: red" *ngIf="invalidOldPassword">The password is invalid!</div>
  </div>
  <div class="form-group">
    <label for="inputPassword">New password</label>
    <input type="password" [(ngModel)]="password" class="form-control" name="inputPassword" id="inputPassword" placeholder="New password" required>
    <div style="color: red" *ngIf="invalidPassword">The password must be at least 8 sybmols long and contain a digit!</div>
  </div>
  <div class="form-group">
    <label for="inputConfirmPassword">Confirm new password</label>
    <input type="password" [(ngModel)]="confirmPassword" class="form-control" name="inputConfirmPassword" id="inputConfirmPassword" placeholder="Confirm new password" required>
    <div style="color: red" *ngIf="passwordsDoNotMatch">Passwords do not match!</div>
  </div>
  <button type="submit" class="btn btn-primary" style="width:45%;">Save changes</button>
  <button (click)="deleteAccount()" class="btn btn-danger" style="width:45%; float: right">Delete account</button>
</form>

<app-footer></app-footer>
